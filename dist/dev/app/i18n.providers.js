"use strict";
var core_1 = require('@angular/core');
var TranslationProviders = (function () {
    function TranslationProviders() {
        this.getTranslationFile = function () {
            var noProviders = [];
            var locale = 'en-US';
            var file = "../assets/locale/messages." + locale + ".xlf";
            if (!locale || locale === 'en-US')
                return Promise.resolve(noProviders);
            return new Promise(function (resolve, reject) {
                var xhr = new XMLHttpRequest;
                xhr.open('GET', file);
                xhr.onload = function (data) { return resolve([
                    { provide: core_1.TRANSLATIONS, useValue: data.target.response },
                    { provide: core_1.TRANSLATIONS_FORMAT, useValue: 'xlf' },
                    { provide: core_1.LOCALE_ID, useValue: locale }
                ]); };
                xhr.onerror = function () { return reject(noProviders); };
                xhr.send();
            });
        };
    }
    return TranslationProviders;
}());
exports.TranslationProviders = TranslationProviders;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9pMThuLnByb3ZpZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEscUJBQTZELGVBQWUsQ0FBQyxDQUFBO0FBRTdFO0lBQUE7UUFFUyx1QkFBa0IsR0FBRztZQUMxQixJQUFJLFdBQVcsR0FBYSxFQUFFLENBQUM7WUFHL0IsSUFBSSxNQUFNLEdBQVcsT0FBTyxDQUFDO1lBRzdCLElBQUksSUFBSSxHQUFXLCtCQUE2QixNQUFNLFNBQU0sQ0FBQztZQUU3RCxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLEtBQUssT0FBTyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXRFLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO2dCQUMxQyxJQUFJLEdBQUcsR0FBRyxJQUFJLGNBQWMsQ0FBQztnQkFDN0IsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3RCLEdBQUcsQ0FBQyxNQUFNLEdBQUcsVUFBQyxJQUFTLElBQUssT0FBQSxPQUFPLENBQ2pDO29CQUNFLEVBQUUsT0FBTyxFQUFFLG1CQUFZLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO29CQUN6RCxFQUFFLE9BQU8sRUFBRSwwQkFBbUIsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFO29CQUNqRCxFQUFFLE9BQU8sRUFBRSxnQkFBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUU7aUJBQ3pDLENBQ0YsRUFOMkIsQ0FNM0IsQ0FBQztnQkFDRixHQUFHLENBQUMsT0FBTyxHQUFHLGNBQU0sT0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQW5CLENBQW1CLENBQUM7Z0JBQ3hDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNiLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUFELDJCQUFDO0FBQUQsQ0EzQkEsQUEyQkMsSUFBQTtBQTNCWSw0QkFBb0IsdUJBMkJoQyxDQUFBO0FBQUEsQ0FBQyIsImZpbGUiOiJhcHAvaTE4bi5wcm92aWRlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFOU0xBVElPTlMsIFRSQU5TTEFUSU9OU19GT1JNQVQsIExPQ0FMRV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25Qcm92aWRlcnMge1xuXG4gIHB1YmxpYyBnZXRUcmFuc2xhdGlvbkZpbGUgPSAoKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBsZXQgbm9Qcm92aWRlcnM6IE9iamVjdFtdID0gW107XG5cbiAgICAvLyBEZWZpbmUgYSB3YXkgdG8gcmV0cmlldmUgdGhlIGxvY2FsIGluZm9ybWF0aW9uXG4gICAgbGV0IGxvY2FsZTogc3RyaW5nID0gJ2VuLVVTJztcblxuICAgIC8vIFNldCB0aGUgZGlyZWN0b3J5IHRvIHRoZSB0cmFuc2xhdGlvbiBmaWxlc1xuICAgIGxldCBmaWxlOiBzdHJpbmcgPSBgLi4vYXNzZXRzL2xvY2FsZS9tZXNzYWdlcy4ke2xvY2FsZX0ueGxmYDtcblxuICAgIGlmKCFsb2NhbGUgfHwgbG9jYWxlID09PSAnZW4tVVMnKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vUHJvdmlkZXJzKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGUpO1xuICAgICAgeGhyLm9ubG9hZCA9IChkYXRhOiBhbnkpID0+IHJlc29sdmUoXG4gICAgICAgIFtcbiAgICAgICAgICB7IHByb3ZpZGU6IFRSQU5TTEFUSU9OUywgdXNlVmFsdWU6IGRhdGEudGFyZ2V0LnJlc3BvbnNlIH0sXG4gICAgICAgICAgeyBwcm92aWRlOiBUUkFOU0xBVElPTlNfRk9STUFULCB1c2VWYWx1ZTogJ3hsZicgfSxcbiAgICAgICAgICB7IHByb3ZpZGU6IExPQ0FMRV9JRCwgdXNlVmFsdWU6IGxvY2FsZSB9XG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICB4aHIub25lcnJvciA9ICgpID0+IHJlamVjdChub1Byb3ZpZGVycyk7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH0pO1xuICB9XG59OyJdfQ==
