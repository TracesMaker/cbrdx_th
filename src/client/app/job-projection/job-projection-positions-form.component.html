<p-messages [value]="msgs"></p-messages>
<p-confirmDialog width="400" #cd>
   <p-footer>
      <button type="button" pButton icon="fa-close" label="No" (click)="cd.reject()"></button>
      <button type="button" pButton icon="fa-check" label="Si" (click)="cd.accept()"></button>
   </p-footer>
</p-confirmDialog>
<div *ngIf="physicStructure">
   <div class="row">
      <div class="col-md-12">
         <div class="header">
            <h4 class="title">{{header}}</h4>
         </div>
      </div>
   </div>
   <form (ngSubmit)="f.valid && onSubmit()" #f="ngForm" novalidate id="formulario">
      <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
         <div class="ui-grid-row">
            <div class="ui-grid-col-8">
               <label for="cargo">Cargo</label>
               <p-dropdown id="cargo" name="cargo" required="true"
                           [options]="ListCategory" [autoWidth]="false"
                           [(ngModel)]="physicStructure.idClasificacionSede"
                           #cargo="ngModel"
               ></p-dropdown>
               <div class="ui-message ui-messages-error ui-corner-all"
                    *ngIf="f.submitted && !cargo.valid">
                  <i class="fa fa-close"></i>
                  Cargo requerido
               </div>
            </div>
            <div class="ui-grid-col-4">
               <label for="codigo">Codigo</label>
               <input id="codigo" name="codigo" #codigo="ngModel" pInputText type="text"
                      [(ngModel)]="physicStructure.codigo" required="true" maxlength="15" pattern="[A-Z0-9]{0,15}"
                      (change)="validateCode()" (keyup)="inputCleanUp($event.target.value)"
                      (paste)="inputCleanUp($event.target.value)"/>
               <div *ngIf="codExists" class="alert alert-danger">
                  Ya se encuentra registrado ese codigo
               </div>
               <div class="ui-message ui-messages-error ui-corner-all"
                    *ngIf="f.submitted && !codigo.valid">
                  <i class="fa fa-close"></i>
                  Codigo requerido
               </div>
            </div>
         </div>
         <div class="ui-grid-row">
            <div class="ui-grid-col-6">
               <label for="actuales">Plazas Actuales</label>
               <input id="actuales" name="actuales" #actuales="ngModel" pInputText type="text"
                      [(ngModel)]="physicStructure.direccion" required disabled/>
               <div class="ui-message ui-messages-error ui-corner-all"
                    *ngIf="f.submitted && !actuales.vaalid">
                  <i class="fa fa-close"></i>
                  Dirección requerida
               </div>
            </div>
            <div class="ui-grid-col-6">
               <label for="proyectadas">Plazas Proyectadas</label>
               <input id="proyectadas" name="proyectadas" #proyectadas="ngModel" pInputText type="text"
                      [(ngModel)]="physicStructure.direccion" required disabled/>
               <div class="ui-message ui-messages-error ui-corner-all"
                    *ngIf="f.submitted && !proyectadas.valid">
                  <i class="fa fa-close"></i>
                  Dirección requerida
               </div>
            </div>

         </div>
         <div class="ui-grid-row">
            <div class="ui-grid-col-6">
               <label for="costoP">Costo Proyectado</label>
               <input id="costoP" name="costoP" #costoP="ngModel" pInputText type="text"
                      [(ngModel)]="physicStructure.direccion" required disabled/>
            </div>
         </div>
         <div class="ui-grid-row form-footer-buttons">
            <div class="ui-grid-col-4"></div>
            <div class="ui-grid-col-1">
               <a (click)="goBack()" class="cancelar">Cancelar</a>
            </div>
            <div class="ui-grid-col-2">
               <button pButton icon="fa-plus" label="Guardar" type="submit" ></button>
            </div>
            <div class="ui-grid-col-5"></div>
         </div>
      </div>
   </form>
</div>


