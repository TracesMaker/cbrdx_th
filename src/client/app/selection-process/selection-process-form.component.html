<p-messages [value]="msgs"></p-messages>
<div class="row">
	<div class="col-md-12">
		<p-accordion (onOpen)="onTabShow($event)" id="accordion">
			<p-accordionTab header="{{ 'PROCESOSELECCION.LBL_PUBLICARVACANTE' | translate }}"
			                [selected]="acordion == 0 || acordion == null ">
				<div *ngIf="publication">
					<form (ngSubmit)="f.valid && onCreateP(acordion)" #f="ngForm" novalidate id="formulario">
						<div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
							<div class="ui-grid-row">
								<div class="ui-grid-col-1"></div>
								<div class="ui-grid-col-5">
									<label><strong><h4>{{vacancy.cargo}}</h4></strong></label>
									<label><strong><h4>{{vacancy.cargo}}</h4></strong></label>
								</div>
								<div class="ui-grid-col-6">
								</div>
							</div>
							<div class="ui-grid-row">
								<div class="ui-grid-col-1"></div>
								<div class="ui-grid-col-5">
									<label class="col-md-6 col-sm-6 col-xs-12"><strong><h5>{{vacancy.cargo}}</h5></strong></label>
								</div>
								<div class="ui-grid-col-6">
								</div>
							</div>
							<hr>
							<div class="ui-grid-row form-footer-buttons">
								<div class="ui-grid-col-4"></div>
								<div class="ui-grid-col-1">
									<a (click)="goBack()" class="cancelar">{{'BTN_CANCELAR' | translate }}</a>
								</div>
								<div class="ui-grid-col-2">
									<button pButton icon="fa-plus" label="{{'BTN_GUARDAR' | translate }}"
									        type="submit"></button>
								</div>
								<div class="ui-grid-col-5"></div>
							</div>
						</div>
					</form>
				</div>
			</p-accordionTab>
			<p-accordionTab header="{{ 'PROCESOSELECCION.LBL_CUESTIONARIOS' | translate }}"
			                [selected]="acordion==1">
				<div>
					<div class="row-fluid">
						<div class="col-md-12">
							<form name="questionnaireForm" (ngSubmit)="qf.valid && addPublicationsQuestionnaire()" #qf="ngForm" novalidate
							      id="questionnaireForm">
								
								<div class="row">
									<div class="form-group col-md-6">
										<label for="qlist">* {{'PROCESOSELECCION.LBL_CUESTIONARIO' | translate }}</label>
										<p-dropdown id="qlist" name="qlist" #ngQuestionnaire="ngModel" [options]="questionnariesList"
										            [autoWidth]="false" [(ngModel)]="questionnaire.idCuestionario" required></p-dropdown>
										<div class="ui-message ui-messages-error ui-corner-all" *ngIf="qf.submitted && !ngQuestionnaire.valid">
											<i class="fa fa-close"></i>
											{{'PROCESOSELECCION.LBL_CUESTIONARIO' | translate }} {{'LBL_REQUERIDO' | translate }}
										</div>
									</div>
									<div class="form-group col-md-6">
										<button icon="fa-plus" label="{{'BTN_AGREGAR' | translate }}" type="submit"
										        pButton></button>
									</div>
								</div>
							
							</form>
						</div>
					</div>
				</div>
				<p-dataTable emptyMessage="{{ 'MSG_NORECORDSFOUND' | translate }}"  [value]="publicationsQuestionnaires"
				             [responsive]="true" >
					<p-column field="cuestionario" header="{{ 'PROCESOSELECCION.LBL_CUESTIONARIO' | translate }}" [sortable]="false"></p-column>
					<p-column field="descripcion" header="{{ 'PROCESOSELECCION.LBL_DESCRIPCION' | translate }}" [sortable]="false"></p-column>
					<p-column header="{{ 'LBL_ORDEN' | translate }}" styleClass="datatable-col-action" >
						<template let-qstn="rowData" pTemplate="body">
							<div class="btn-group" role="group">
								<button type="button"  class="ui-button ui-button-info btn" icon="fa-arrow-down"
								        pButton (click)="sendBefore(qstn)" ></button>
								<button type="button"  class="ui-button ui-button-info btn" icon="fa-arrow-up"
								        pButton (click)="sendAfter(qstn)" ></button>
							</div>
						</template>
					</p-column>
					<p-column header="{{ 'LBL_ACCIONES' | translate }}" styleClass="datatable-col-action" >
						<template let-qstn="rowData" pTemplate="body">
							<div class="btn-group" role="group">
								<button type="button"  class="ui-button ui-button-danger btn" icon="fa-trash"
								        pButton (click)="disableQuestionnaire(qstn)" ></button>
							</div>
						</template>
					</p-column>
				</p-dataTable>
			</p-accordionTab>
		</p-accordion>
	</div>
</div>