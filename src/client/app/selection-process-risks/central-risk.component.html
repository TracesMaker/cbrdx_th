<div class="row">
	<div class="col-md-10 col-md-offset-1">
		<p-panel header="{{ 'PROCESOSELECCION.LBL_INFOPOSTULANTE' | translate }}">
			<form class="form-horizontal">
				<fieldset>
					<div class="form-group row">
						<div class="col-md-2">
							<div class="thumbnail">
								<img src="/assets/images/perfil/3.jpg" alt="...">
							</div>
						</div>
						<div class="col-md-10">
							<h2>{{candidate.nombreCompleto}} - {{candidate.fechaNacimiento}} ({{candidate.edad}})</h2>
							<h3>{{candidate.tipoDocumento}} - {{candidate.numeroDocumento}}</h3>
						</div>
					</div>
				</fieldset>
			</form>
		</p-panel>
	</div>
</div>
<div class="row">
	<div class="col-md-10 col-md-offset-1">
		<p-panel header="{{'PROCESOSELECCION.LBL_CENTRALESRIESGOS' | translate }}">
			<div class="row">
				<div class="col-md-12">
					<p>{{step.descripcion}}</p>
				</div>
			</div>
			<form class="form-horizontal">
				<fieldset>
					<div class="form-group">
						<div class="row">
							<div class="col-md-12">
								<label class="col-md-3 col-sm-6 col-xs-12 control-label">{{ 'PROCESOSELECCION.LBL_POSTULANTEA' | translate
									}}:</label>
								<label class="col-md-3 col-sm-6 col-xs-12">{{publication.cargo}}</label>
								
								<label class="col-md-3 col-sm-6 col-xs-12 control-label">{{'PROCESOSELECCION.LBL_OFICINA' | translate }}:</label>
								<label class="col-md-3 col-sm-6 col-xs-12">{{publication.estructuraFisica}}</label>
							</div>
						</div>
						<div class="row">
							<label class="col-md-3 col-sm-6 col-xs-12 control-label">{{'PROCESOSELECCION.LBL_AREA' | translate }}:</label>
							<label class="col-md-3 col-sm-6 col-xs-12">{{publication.area}}</label>
						</div>
					</div>
				</fieldset>
			</form>
			<p-dataTable [value]="centrales">
				<p-column field="nombre" header="{{'PROCESOSELECCION.LBL_CENTRALRIESGO' | translate }}"></p-column>
				<p-column field="" header="{{'PROCESOSELECCION.LBL_CONSULTAR' | translate }}" styleClass="datatable-col-action">
					<template let-data="rowData" pTemplate="body">
						<button type="button" pButton (click)="showDialogo(data)" icon="fa-external-link"></button>
					</template>
				</p-column>
				<p-column field="" header="{{'PROCESOSELECCION.LBL_ADJUNTAR' | translate }}" styleClass="datatable-col-action">
					<template let-data="rowData" pTemplate="body">
						<!--<button type="button" pButton (click)="uploadFile()" icon="fa-cloud-upload "></button>-->
						<p-fileUpload name="file" url="{{svcThUrl}}" auto="true" class="upload-avatar"
						              chooseLabel="{{'PROCESOSELECCION.LBL_ADJUNTAR' | translate}}"
						              (onBeforeSend)="onBeforeSend($event)"
						              (onUpload)="onUpload($event,data)"
						></p-fileUpload>
					</template>
				</p-column>
				<p-column field="" header="{{'PROCESOSELECCION.LBL_APROBAR' | translate }}" styleClass="datatable-col-action">
					<template let-data="rowData" pTemplate="body">
						<p-checkbox  [(ngModel)]="data.indicadorAprobado" binary="true" (onChange)="aprobar(data)"></p-checkbox>
					</template>
				</p-column>
				<p-column field="" header="{{'PROCESOSELECCION.LBL_REPORTAR' | translate }}" styleClass="datatable-col-action">
					<template let-data="rowData" pTemplate="body">
						<p-checkbox *ngIf="data.indicadorReporta" [(ngModel)]="data.indicadorReportado" binary="true"
						            (onChange)="aprobar(data)"></p-checkbox>
					</template>
				</p-column>
				<p-column field="" header="{{'LBL_ACCIONES' | translate }}" styleClass="datatable-col-action">
					<template let-data="rowData" pTemplate="body" >
						<button type="button" icon="fa-eye" *ngIf="data.adjunto !== null"
						        class="ui-button btn" data-toggle="tooltip"
						        title="{{'BTN_VISUALIZAR' | translate}}"
						        pButton (click)="previewFile(data)"></button>
						
						
						<a download href = "{{data.adjunto}}">
							<button type="button" icon="fa-cloud-download" *ngIf="data.adjunto !== null"
							        class="ui-button-success"  data-toggle="tooltip"
							        title="{{'BTN_DOWNLOAD' | translate}}"
							        pButton ></button>
						</a>
						
						
						<button type="button" icon="fa-trash" *ngIf="data.adjunto !== null"
						        class="ui-button btn" data-toggle="tooltip" title="{{'BTN_ELIMINAR' | translate}}"
						        pButton (click)="deleteFile(data)"></button>
					</template>
				</p-column>
			</p-dataTable>
		</p-panel>
	</div>
</div>
<p-dialog header="{{title}}" [(visible)]="displayDialog" [width]="800">
	<iframe width="100%" height="300" [src]="url | safe"></iframe>
</p-dialog>